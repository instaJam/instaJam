<ion-view view-title="Instajam">
<div class="tabs-striped tabs-top tabs-background-positive tabs-color-light">
    <div class="tabs">
      <a class="tab-item active" href="#">
        Everywhere
      </a>
      <a class="tab-item" href="#">
        Near Me
      </a>
    </div>
  </div>
  <ion-content>
    <div class="postContent">

      <div class="list" ng-repeat="post in allPosts | orderBy:'createdAt':true  track by post._id">
        <div class="item item-avatar">
          <img ng-src="{{post.user.profpic}}">
          <h2>{{post.user.username}}</h2>

          <button type="button" name="button"></button>
          <a ng-click="createChat(post.user._id, currentUser._id)">Message Me</a>
        </div>
        {{youtubeChecker(post.content, $index)}}
        <div class="embed-responsive embed-responsive-16by9" ng-if="isYoutubeArray[$index]">
          <youtube-video class="embed-responsive-item" video-url="post.content"></youtube-video>
        </div>
        <div ng-if="!isYoutubeArray[$index]">
          <img ng-src="{{post.content}}" class="postSize">
        </div>
        <div class="button-bar">
          <button class="button" ng-click="commentToggle($index)">
            <i class="ion-ios-chatbubble"></i>
            <button class="button" ng-click="like(currentUser._id, post._id, post.likes)">
              <i class="ion-happy-outline" ></i>
            </button>
          </button>
        </div class="list">
          {{post.user.username}}: {{post.description}} {{likesCounter(post.likes) + " " + "likes!"}}
          <div ng-repeat="comment in post.comments track by $index" >
          {{comment.user.username}}:{{comment.comment}} {{deleteCommentToggle(comment.user._id)}}
          <button class="button button-small" ng-show="deleteCommentHider && commentHiderArray[$parent.$index]" ng-click="deleteComment(post._id, $index, $parent.$index)">
            <i class="ion-trash-a"></i>
          </button>
        </div>
          <div class="item item-input-inset" ng-show="commentHiderArray[$index]">
            <label class="item-input-wrapper">
              <input type="text" ng-model="newComment" placeholder="Add a comment">
            </label>
            <button class="button button-small" ng-click="submitComment(currentUser._id, post._id, newComment, $index)" >
              Submit
            </button>
            </div>
              </div>
    </div>




  </ion-content>
</ion-view>
